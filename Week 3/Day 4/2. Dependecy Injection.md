# Setting Up Unity Dependency Injection in ASP.NET MVC

Step by step guide to configure Unity for dependency injection in an ASP.NET MVC application, focusing on the Unit of Work pattern, services, and repositories for Products and Orders.

## Step 1: Install Required Packages

Install Unity packages via NuGet Package Manager:

```bash
Install-Package Unity
Install-Package Unity.Mvc
```

## Step 2: Create Unity Configuration

Create a new class called `UnityConfig` to configure your dependencies.

### UnityConfig.cs

```csharp
using System;
using System.Web.Mvc;
using Unity;
using Unity.Mvc5;
using SportStore.Models;
using SportStore.Repositories;
using SportStore.Services;

namespace SportStore
{
    public static class UnityConfig
    {
        public static void RegisterComponents()
        {
            var container = new UnityContainer();

            // Register your types here
            container.RegisterType<IUnitOfWork, UnitOfWork>();
            container.RegisterType<IProductRepository, ProductRepository>();
            container.RegisterType<IOrderRepository, OrderRepository>();
            container.RegisterType<IProductService, ProductService>();
            container.RegisterType<IOrderService, OrderService>();

            DependencyResolver.SetResolver(new UnityDependencyResolver(container));
        }
    }
}
```

## Step 3: Update Global.asax

In your `Global.asax.cs`, call the `RegisterComponents` method during application start.

### Global.asax.cs

```csharp
using System.Web.Mvc;
using System.Web.Routing;

namespace SportStore
{
    public class MvcApplication : System.Web.HttpApplication
    {
        protected void Application_Start()
        {
            AreaRegistration.RegisterAllAreas();
            RouteConfig.RegisterRoutes(RouteTable.Routes);

            // Register Unity DI
            UnityConfig.RegisterComponents();
        }
    }
}
```

## Conclusion

By following these steps, you can successfully set up Unity as your dependency injection container in your ASP.NET MVC application. This configuration facilitates the Unit of Work pattern, services, and repositories for managing Products and Orders, enhancing code maintainability and testability.